# Doctrine 2 Service for Laravel 5+

Run all doctrine commands easily using `$ php artisan doctrine <command> <options>`

This service will grab your laravel's configuration (db and cache) and automatically apply it to doctrine2 configurate, no more hassle configuration needed. :)

## Installation

```bash
$ composer require paolooo/laravel-doctrine
```

Open up `app/config/app.php` configuration file, and add the following service provider code to the `$providers` array.

```
        'Paolooo\LaravelDoctrine\LaravelDoctrineServiceProvider',
```

## Running Doctrine Commands

Sample artisan for doctrine.

```bash
$ php artisan doctrine
$ php artisan doctrine help orm:schema-tool:create
$ php artisan doctrine orm:schema-tool:create
$ php artisan doctrine orm:schema-tool:create --dump-sql
$ php artisan doctrine orm:schema-tool:update
$ php artisan doctrine orm:schema-tool:drop
```


## Local Enviroment

This is a sample local environment (.env file) configuration.

```
APP_ENV=local
APP_DEBUG=true
...
DB_DRIVER=pdo_mysql
DB_HOST=localhost
DB_DATABASE=pca_dev
DB_USERNAME=root
DB_PASSWORD=
...
CACHE_DRIVER=file
...
DOCTRINE_PROXY_AUTOGENERATED=false
DOCTRINE_PROXY_NAMESPACE=Acme\Domain\Model\Proxy
DOCTRINE_PROXY_DIR=app/Domain/Model/Proxy
DOCTRINE_MAPPING_DIR=app/Domain/Model
```

## Testing Environment

This is a sample testing environment (phpunit.xml file) configuration.

```
<?xml version="1.0" encoding="UTF-8"?>
<phpunit ...>
    ....
    <php>
        <env name="APP_ENV" value="testing"/>
        <env name="CACHE_DRIVER" value="array"/>
        ...
        <env name="DB_DATABASE" value="storage/tests/db.sqlite"/>
    </php>
</phpunit>
```
